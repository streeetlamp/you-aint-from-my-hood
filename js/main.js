var geolocator=function(){"use strict";function a(a,b,c){function d(a,b){c&&e.parentNode&&e.parentNode.removeChild(e),"function"==typeof a&&a(b)}var e=document.createElement("script");e.async=!0,e.readyState?e.onreadystatechange=function(a){("loaded"===e.readyState||"complete"===e.readyState)&&(e.onreadystatechange=null,d(b))}:e.onload=function(a){d(b)},e.onerror=function(b){var c="Could not load source at "+String(a).replace(/\?.*$/,"");d(l,new Error(c))},e.src=a,document.getElementsByTagName("head")[0].appendChild(e)}function b(b){function c(){geolocator.__glcb&&delete geolocator.__glcb,google.load("maps",p,{other_params:"",callback:b})}void 0!==window.google&&void 0!==google.maps?b&&b():void 0!==window.google&&void 0!==google.loader?c():(geolocator.__glcb=c,a(o+"?callback=geolocator.__glcb"))}function c(a,b,c){var d,e,f,g=document.getElementById(a);g?(d=new google.maps.Map(g,b),e=new google.maps.Marker({position:b.center,map:d}),f=new google.maps.InfoWindow,f.setContent(c),google.maps.event.addListener(e,"click",function(){f.open(d,e)}),geolocator.location.map={canvas:g,map:d,options:b,marker:e,infoWindow:f}):geolocator.location.map=null}function d(a,b){function c(a,c){c===google.maps.GeocoderStatus.OK&&b&&b(a)}var d=new google.maps.Geocoder;d.geocode({latLng:a},c)}function e(a){if(a&&a.length>0){var b,c,d={},e=a[0].address_components;for(b=0;b<e.length;b+=1)c=e[b],c.types&&c.types.length>0&&(d[c.types[0]]=c.long_name,d[c.types[0]+"_s"]=c.short_name);geolocator.location.formattedAddress=a[0].formatted_address,geolocator.location.address={street:d.route||"",neighborhood:d.neighborhood||"",town:d.sublocality||"",city:d.locality||"",region:d.administrative_area_level_1||"",country:d.country||"",countryCode:d.country_s||"",postalCode:d.postal_code||"",streetNumber:d.street_number||""}}}function f(a){function b(a){e(a);var b=null===geolocator.location.ipGeoSource?14:7,d={zoom:b,center:f,mapTypeId:"roadmap"};c(m,d,a[0].formatted_address),k&&k.call(null,geolocator.location)}var f=new google.maps.LatLng(a.latitude,a.longitude);d(f,b)}function g(a,b){function c(b){var c=a===!0?0:"number"==typeof a?a:-1;c>=0?geolocator.locateByIP(k,l,c,m):l&&l(b)}function d(a){geolocator.location={ipGeoSource:null,coords:a.coords,timestamp:(new Date).getTime()},f(geolocator.location.coords)}function e(a){c(a)}geolocator.location=null,navigator.geolocation?navigator.geolocation.getCurrentPosition(d,e,b):c(new Error("geolocation is not supported."))}function h(a,b){switch(a){case 0:geolocator.location={coords:{latitude:b.latitude,longitude:b.longitude},address:{city:b.city,country:b.country_name,countryCode:b.country_code,region:b.region_name}};break;case 1:geolocator.location={coords:{latitude:b.geoplugin_latitude,longitude:b.geoplugin_longitude},address:{city:b.geoplugin_city,country:b.geoplugin_countryName,countryCode:b.geoplugin_countryCode,region:b.geoplugin_regionName}};break;case 2:geolocator.location={coords:{latitude:b.lat,longitude:b.lon},address:{city:b.city,country:"",countryCode:b.country,region:""}}}geolocator.location&&(geolocator.location.coords.accuracy=null,geolocator.location.coords.altitude=null,geolocator.location.coords.altitudeAccuracy=null,geolocator.location.coords.heading=null,geolocator.location.coords.speed=null,geolocator.location.timestamp=(new Date).getTime(),geolocator.location.ipGeoSource=q[a],geolocator.location.ipGeoSource.data=b)}function i(a){function c(){2===n?void 0!==window.Geo&&(h(n,window.Geo),delete window.Geo,d=!0):void 0!==a&&"string"!=typeof a&&(h(n,a),d=!0),d===!0?f(geolocator.location.coords):l&&l(new Error(a||"Could not get location."))}var d=!1;geolocator.location=null,delete geolocator.__ipscb,b(c)}function j(b){void 0===b.cbParam||null===b.cbParam||""===b.cbParam?a(b.url,i,!0):a(b.url+"?"+b.cbParam+"=geolocator.__ipscb",void 0,!0)}var k,l,m,n,o="https://www.google.com/jsapi",p="3.18",q=[{url:"//freegeoip.net/json/",cbParam:"callback"},{url:"//www.geoplugin.net/json.gp",cbParam:"jsoncallback"},{url:"//geoiplookup.wikimedia.org/",cbParam:""}],r=1;return{location:null,locate:function(a,c,d,e,f){function h(){g(d,e)}k=a,l=c,m=f,b(h)},locateByIP:function(a,b,c,d){n="number"!=typeof c||0>c||c>=q.length?r:c,k=a,l=b,m=d,geolocator.__ipscb=i,j(q[n])},isPositionError:function(a){return"[object PositionError]"===Object.prototype.toString.call(a)}}}();!function(a){"use strict";a(document).ready(function(){function b(){h[0].play()}function c(b){var c=(a("<img />",{"class":"where-u-from",src:"./img/lurkin.gif"}),a("<img />",{"class":"where-u-from",src:"./img/puttin_it_down.gif"}));g.fadeOut(350,function(){clearInterval(j)});var d=a("<audio />",{autoplay:!0,"class":"the-plug"});if("Richmond"!==b.address.city){var h=a("<source />",{src:i+"audio/aint-from-my-hood.mp3",type:"audio/mpeg"}),k=a("<source />",{src:i+"audio/aint-from-my-hood.ogg",type:"audio/ogg"});f.css("background-image",'url("./img/no-respect.jpg")')}else{var h=a("<source />",{src:i+"audio/4-my-hood.mp3",type:"audio/mpeg"}),k=a("<source />",{src:i+"audio/4-my-hood.ogg",type:"audio/ogg"});f.css("background-image",'url("./img/tank.jpg")').append(c)}d.html([h,k]).appendTo(e),"Richmond"===b.address.city?f.css("background-image",'url("./img/tank.jpg")').append(c):f.css("background-image",'url("./img/no-respect.jpg")')}function d(a){console.error(a)}var e=a("#main"),f=a("body"),g=a(".where-u-from"),h=a(".the-plug"),i=window.location,j=window.setInterval(b,1e3),k={enableHighAccuracy:!0,timeout:6e3,maximumAge:0};geolocator.locate(c,d,!0,k)})}(window.jQuery);